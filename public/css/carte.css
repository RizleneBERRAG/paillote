/* public/css/carte.css */
/* Carte du menu ‚Äî coh√©rente avec le menu lat√©ral (sombre + dor√©), sans fl√®ches */

/* ---------- Th√®me partag√© (aligne-toi avec menu.css) ---------- */
:root{
    /* essaie d'utiliser les m√™mes valeurs que ton menu lat√©ral */
    --bg-1:#0f1012;          /* fond page */
    --bg-2:#15171a;          /* panneaux/cartes */
    --line:#26292e;          /* bordures discr√®tes */
    --text:#f2f3f5;          /* texte principal */
    --muted:#a6abb2;         /* texte secondaire */
    --brand:#caa564;         /* dor√© du menu lat√©ral */
    --brand-2:#e7c880;       /* dor√© clair (d√©grad√©s/hover) */
    --radius:14px;           /* m√™me rayon que le menu */
    --radius-sm:10px;
    --gap:16px;
    --shadow:0 12px 30px rgba(0,0,0,.35);
}

html,body{margin:0}
body{
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans";
    color: var(--text);
    line-height: 1.6;
    background:
        radial-gradient(80% 60% at 0% 0%, #14161a 0%, transparent 60%),
        radial-gradient(70% 60% at 100% 10%, #111317 0%, transparent 60%),
        linear-gradient(180deg, var(--bg-1), #0e1114 45%, #0b0d10 100%);
    -webkit-font-smoothing: antialiased;
}
html.no-scroll, html.no-scroll body{ overflow:hidden; }

main.container{
    max-width: 1180px;
    padding: 32px 20px 60px;
    margin: 0 auto;
}

/* ---------- Filtres (pills) ‚Äî coh√©rents avec liens du menu ---------- */
.anchors{
    display:flex; flex-wrap:wrap; gap:12px; margin: 20px 0 14px;
}
.anchors .pill{
    display:inline-flex; align-items:center; gap:8px;
    padding:10px 14px; border-radius:999px;
    color: var(--text); text-decoration:none; font-weight:600; font-size:.95rem;
    background: linear-gradient(180deg,#17191d,#121418);
    border:1px solid #2a2d32;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
    transition: transform .12s, background .25s, border-color .2s, color .2s;
}
.anchors .pill:hover{
    transform: translateY(-1px);
    background: linear-gradient(180deg, #1b1e23, #14171b);
    border-color:#3a3e45;
}
.anchors .pill:focus-visible{
    outline: 2px solid var(--brand);
    outline-offset: 2px;
}
/* √âtat actif (remplace l‚Äôinline-style) */
.anchors .pill.is-active{
    background: linear-gradient(180deg, var(--brand), var(--brand-2));
    color:#111;
    border-color: transparent;
}

/* ---------- Titres & s√©parateurs ---------- */
.section{ margin: 42px 0; }
.section h2{
    margin: 0 0 14px;
    font-size: clamp(1.35rem, 1.05rem + 1vw, 2rem);
    color: var(--brand);
    letter-spacing:.2px;
}
hr.sep{
    margin: 18px 0 10px; height:1px; border:0;
    background: linear-gradient(90deg, transparent, #2a2d32 20%, #2a2d32 80%, transparent);
    opacity:.9;
}

/* ---------- Cartes (m√™me langage visuel que la panel du menu) ---------- */
.card{
    background: color-mix(in oklab, var(--bg-2) 90%, #000 10%);
    border:1px solid var(--line);
    border-radius: var(--radius);
    padding:16px;
    box-shadow: var(--shadow);
    transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    display:flex; flex-direction:column; justify-content:space-between;
    min-height: 360px; /* hauteur uniforme */
}
.card:hover{
    transform: translateY(-2px);
    border-color:#3a3e45;
    box-shadow: 0 18px 38px rgba(0,0,0,.45);
}

.card .thumb{
    width:100%;
    aspect-ratio: 4/3;           /* coh√©rent avec vignettes du menu */
    object-fit:cover;
    border-radius: var(--radius-sm);
    margin-bottom:12px;
    box-shadow: 0 6px 16px rgba(0,0,0,.35);
    image-rendering: auto;
}

/* titres & texte */
.item-title{
    display:flex; justify-content:space-between; gap:12px;
    font-weight:700; font-size:1.02rem;
}
.item-title .price{ color: var(--brand); font-weight:800; white-space:nowrap; }
.muted{ color: var(--muted); font-size:.95rem; margin-top:6px; }
.empty{ color:#8b8f97; font-style:italic; }

/* ---------- Bouton "Voir la photo" (m√™mes codes dor√©s que CTA du menu) ---------- */
.see-photo{
    margin-top:auto; align-self:flex-start;
    padding:8px 12px; border-radius: 10px;
    border:1px solid color-mix(in oklab, var(--brand) 70%, #fff 10%);
    background: linear-gradient(180deg, transparent, rgba(202,165,100,.12));
    color: var(--brand);
    font-weight:700; letter-spacing:.2px;
    display:inline-flex; align-items:center; gap:8px;
    text-decoration:none; cursor:pointer;
    transition: background .2s, transform .08s ease, box-shadow .2s, color .2s;
}
.see-photo::before{ content:"üñºÔ∏è"; }
.see-photo:hover{
    background: linear-gradient(180deg,
    color-mix(in oklab, var(--brand) 22%, transparent),
    color-mix(in oklab, var(--brand) 10%, transparent)
    );
    box-shadow: inset 0 0 0 1px rgba(0,0,0,.25), 0 8px 18px rgba(202,165,100,.18);
    color:#111;
}
.see-photo:active{ transform: translateY(1px) scale(.99); }
.see-photo:focus-visible{ outline:2px solid var(--brand); outline-offset:2px; }

/* ---------- Slider tactile (scroll-snap), sans fl√®ches ---------- */
.slider{
    overflow-x:auto;
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: x mandatory;
    scroll-padding: 12px;
    display:grid;
    grid-auto-flow: column;
    grid-auto-columns: minmax(260px, 320px);
    gap: var(--gap);
    padding-bottom: 10px;
}
.slider .card{ scroll-snap-align: start; }
.slider::-webkit-scrollbar{ height:10px; }
.slider::-webkit-scrollbar-track{ background: transparent; }
.slider::-webkit-scrollbar-thumb{
    background: color-mix(in oklab, var(--brand) 75%, #000 25%);
    border-radius: 10px;
}
*{ scrollbar-color: color-mix(in oklab, var(--brand) 75%, #000 25%) transparent; }

/* ---------- Modale image (coh√©rente avec overlay du menu) ---------- */
.img-lightbox{ position:fixed; inset:0; z-index:1400; } /* passe au-dessus du menu si besoin */
.img-lightbox[hidden]{ display:none !important; }
.img-lightbox-backdrop{
    position:absolute; inset:0;
    background: rgba(0,0,0,.78);
    backdrop-filter: blur(2px);
}
.img-lightbox-panel{
    position:absolute; inset:50% auto auto 50%; transform: translate(-50%,-50%);
    background: rgba(21,23,26,.78);
    border:1px solid var(--line);
    backdrop-filter: blur(8px) saturate(1.05);
    border-radius: 16px;
    padding: 14px;
    box-shadow: 0 22px 60px rgba(0,0,0,.55);
    max-width: 92vw; max-height: 92vh;
}
.img-lightbox-panel img{
    display:block; max-width:86vw; max-height:70vh;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,.55);
}
.caption{
    margin-top:10px; text-align:center;
    color: var(--brand); font-weight:700;
}
.img-lightbox-close{
    position:absolute; top:8px; right:10px;
    width:38px; height:38px; border-radius:50%; border:0;
    background: linear-gradient(180deg, var(--brand), var(--brand-2));
    color:#111; font-size:20px; font-weight:900; cursor:pointer;
    box-shadow: 0 8px 20px rgba(0,0,0,.35);
}

/* Transition douce pour la lightbox */
.img-lightbox {
    opacity: 0;
    transition: opacity 0.35s ease;
}
.img-lightbox[aria-hidden="false"] { opacity: 1; }
.img-lightbox-panel {
    transform: translate(-50%, -48%);
    opacity: 0;
    transition: transform 0.35s ease, opacity 0.35s ease;
}
.img-lightbox[aria-hidden="false"] .img-lightbox-panel {
    transform: translate(-50%, -50%);
    opacity: 1;
}

/* ---------- Accessibilit√© & confort ---------- */
html { scroll-behavior: smooth; }
@media (prefers-reduced-motion: reduce){
    html { scroll-behavior: auto; }
    *{ transition:none !important; }
}

/* =========================
   Responsive ‚Äî Carte (menu)
   ========================= */

/* Grand mobile / petites tablettes */
@media (max-width: 980px){
    main.container{ padding: 28px 16px calc(56px + env(safe-area-inset-bottom)); max-width: 680px; }

    .anchors{ gap:10px; margin: 16px 0 12px; }
    .anchors .pill{ padding:9px 12px; font-size:.92rem; }

    .section{ margin: 34px 0; }
    .section h2{ font-size: clamp(1.2rem, 1rem + 1vw, 1.55rem); }

    .slider{
        grid-auto-columns: minmax(240px, 86vw);
        gap: 14px;
        padding-bottom: 8px;
    }

    .card{
        min-height: 330px;
        padding:14px;
        border-radius: 12px;
    }
    .card .thumb{
        aspect-ratio: 16/10;
        border-radius: 10px;
        margin-bottom:10px;
    }

    .item-title{ font-size: 1rem; gap:10px; }
    .muted{ font-size:.93rem; }
    .see-photo{ padding:7px 11px; border-radius: 9px; }
}

/* Mobile compact */
@media (max-width: 640px){
    html { font-size: 15.5px; }

    .anchors{
        gap: 8px;
        margin: 14px 0 8px;
    }
    .anchors .pill{
        padding:8px 12px;
        font-size:.9rem;
        border-radius: 999px;
    }

    .slider{
        grid-auto-columns: 88vw; /* 1 carte bien large */
        padding-bottom: 8px;
    }

    .card{
        min-height: 310px;
        padding:12px;
        box-shadow: 0 10px 24px rgba(0,0,0,.35);
    }
    .item-title{ font-size:.98rem; }
    .muted{ font-size:.92rem; }
    .see-photo{ font-size:.92rem; padding:7px 10px; }

    .img-lightbox-panel{
        max-width: 94vw; max-height: 92vh; padding: 12px;
        border-radius: 14px;
    }
    .img-lightbox-panel img{ max-width: 90vw; max-height: 64vh; }
    .img-lightbox-close{ width: 34px; height: 34px; }
}
